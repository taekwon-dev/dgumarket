<!-- 채팅 시작 버튼 -->
<div class="chat1 d-flex justify-content-end">
    <div id="total_alm" class="rounded-circle hidden"></div>
    <button type="button" class="btn btn-outline-light rounded-circle" id="chat_start_button">
        <i class="far fa-comments" id="chat_icon"></i>
    </button>
</div>
<!-- 최초 채팅 전체 폼 -->
<div id="chat_form" class="chat2 container chat_close hidden">
    <!-- 채팅 해더 -->
    <div id="chat_header" class="d-flex justify-content-between">
        <!-- 채팅방에서 뒤로 가기 버튼 (체팅방 목록에서 hidden 및 d-flex 삭제처리)-->
        <div id="back_btn_form" class="d-flex flex-wrap align-content-center">
            <button type="button" class="btn btn-link rounded-circle" id="empty_btn">
                <i class="empty_icon fas fa-chevron-left"></i>
            </button>
            <button type="button" id="back_btn" class="btn btn-outline-light head_btn hidden">
                <i class="fas fa-chevron-left back_icon"></i>
            </button>
        </div>
        <div id="chat_title_chat" class="chat_title">CHAT</div>
        <!-- 채팅방 들어가면 거래중인 중고물품 정보 보이는 곳 -->
        <div id="trade_item_info" class="flex-grow-1 justify-content-center hidden">
            <div class="d-flex flex-wrap align-content-center">
                <img src="/imgs/product_delete.png" href="/shop/item/onePick" id="trade_item_picture" class="move_onePick rounded-circle" alt="">
            </div>
            <div id="trade_item_text" class="d-flex flex-wrap align-content-center">
                <div>
                    <div id="trade_state"></div>
                    <div id="trade_item_title"></div>
                    <div id="trade_item_price"></div>
                </div>
            </div>
        </div>
        <div class="d-flex flex-wrap align-content-center">
            <!-- 채팅창 닫기 버튼 -->
            <button id="close_btn" type="button" class="btn btn-outline-light head_btn d-flex">
                <i class="fas fa-times close_icon"></i>
            </button>
        </div>
    </div>
    <!-- 채팅 검색 hidden 가능-->
    <div id="chat_search_form" class="">
        <span id="chat_search_icon"><i class="fas fa-times-circle"></i></span>
        <label for="chat_opponent_search" class=""></label>
        <input id="chat_opponent_search" class="form-control" type="text" placeholder="채팅 상대 검색">
    </div>
    <!-- 채팅방 리스트 전체 폼 (hidden 가능)-->
    <div id="chat_list_form" class="">
        <!-- 채팅방 리스트가 없을 경우의 view (hidden 가능)-->
        <div id="chat_room_empty" class="text-center empty hidden">
            <i id="chat_room_empty_icon" class="d-flex justify-content-center far fa-sad-tear"></i>
            아직 생성된 채팅방이 없습니다.<br>
            코끼리들과 채팅을 통해<br>
            중고물품을 거래해 보세요!
        </div>
        <!--채팅방목록 불러 올 때까지 스피너 view처리-->
        <div class="d-flex justify-content-center">
            <div id="loading_chat_list_room" class="spinner-grow text-primary hidden"></div>
        </div>
        <!-- 채팅방 동적 생성되는 곳-->
        <div id="chat_list_space"></div>
    </div>
    <!-- 채팅방 폼 -->
    <div id="chat_room_form" class="hidden">
        <!--중고물품 업로드한 사용자가 해당 중고물품 거래상태가 완료가 되었을 경우 알림문구 view 처리 -->
        <div id="notification_trade_state" class="hidden">
            <div id="notification_trade_state_text"></div>
            <div id="chat_write_trade_comment" class="hidden" data-toggle="modal" data-target="#write_trade_comment">[후기 남기기]</div>
            <div id="chat_view_trade_comment" class="hidden" data-toggle="modal" data-target="#view_trade_comment">[후기 보기]</div>
        </div>
        <!-- 채팅 스크린 -->
        <div id="chat_screen"></div>
        <!-- 체팅 하단 UI -->
        <div id="chat_input_form1" class="chat_input_form_close">
            <!--채팅 사진첨부, 알림설정, 채팅방 나가기, 거래완료, 차단, 신고 버튼UI -->
            <div class="form-group my-file chat_input_form2">
                <div class="d-flex">
                    <!-- 파일 첨부 전송 버튼 UI -->
                    <div class="chat_button_form1">
                        <div class="chat_button_form2">
                            <button type="button" id="send_file_btn" class="btn btn-outline-light">
                                <label class="send-file-icon-label d-flex flex-wrap align-content-center justify-content-center" for="send-file">
                                    <i class="far fa-image send-file-icon chat_button_icon"></i>
                                </label>
                            </button>
                        </div>
                        <div style="font-size: 10px" id="send_file_text" class="text-center">사진첨부</div>
                        <input id="send-file" class="form-control-file hidden" type="file" accept="image/gif, image/jpeg, image/png, image/jpg" multiple>
                    </div>
                    <!-- 채팅메시지 알림설정 버튼 UI -->
                    <div id="notification_msg_form" class="chat_button_form1 hidden">
                        <div class="chat_button_form2">
                            <button type="button" id="notification_msg_btn" class="btn btn-outline-light">
                                <div class="d-flex flex-wrap align-content-center justify-content-center">
                                    <i id="notification_msg_icon" class="fas fa-bell-slash chat_button_icon"></i>
                                </div>
                            </button>
                        </div>
                        <div style="font-size: 10px" id="notification_msg_text" class="text-center">알림끄기</div>
                    </div>
                    <!-- 채팅방 나가기 버튼 UI -->
                    <div id="close_chat_room_form" class="chat_button_form1">
                        <div class="chat_button_form2">
                            <button type="button" id="close_chat_room" class="btn btn-outline-light" data-toggle="modal" data-target="#leave_chat">
                                <div class="d-flex flex-wrap align-content-center justify-content-center">
                                    <i class="fas fa-sign-out-alt chat_button_icon"></i>
                                </div>
                            </button>
                        </div>
                        <div style="font-size: 10px" class="text-center">나가기</div>
                    </div>
                    <!-- 채팅방 거래완료 버튼 UI(판매자 전용 버튼 그 외 hidden처리) -->
                    <div id="trade_success_form" class="hidden chat_button_form1">
                        <div class="chat_button_form2">
                            <button type="button" id="trade_success_btn" class="btn btn-outline-light" data-toggle="modal" data-target="#trade_success">
                                <div class="d-flex flex-wrap align-content-center justify-content-center">
                                    <i class="fas fa-hands-helping chat_button_icon"></i>
                                </div>
                            </button>
                        </div>
                        <div style="font-size: 10px" id="trade_success_text" class="text-center">거래완료</div>
                    </div>
                    <!-- 채팅 유저 차단 버튼 UI -->
                    <div id="block_form" class="chat_button_form1">
                        <div class="chat_button_form2">
                            <button type="button" id="block_btn" class="btn btn-outline-light">
                                <div class="d-flex flex-wrap align-content-center justify-content-center">
                                    <i id="block_icon" class="fas fa-user-lock chat_button_icon"></i>
                                </div>
                            </button>
                        </div>
                        <div style="font-size: 10px" id="block_text" class="text-center">차단</div>
                    </div>
                    <!-- 채팅 유저 신고 버튼 UI -->
                    <div id="report_form" class="chat_button_form1">
                        <div class="chat_button_form2">
                            <button type="button" id="report_btn" class="btn btn-outline-light" data-toggle="modal" data-target="#report_user">
                                <div class="d-flex flex-wrap align-content-center justify-content-center">
                                    <i class="fas fa-angry chat_button_icon"></i>
                                </div>
                            </button>
                        </div>
                        <div style="font-size: 10px" class="text-center">신고</div>
                    </div>
                </div>
                <!-- 후기 남기기 버튼 클릭 시 팝업창 view -->
                <div id="write_trade_comment" class="modal fade">
                    <div class="modal-dialog modal_write_trade_comment">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h6 class="modal-title">
                                    <span id="seller_user_id"></span>님과 직접 거래한 소감은 어떠신가요?
                                </h6>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
                            <div class="modal-body text-center">
                                <div class="form-group">
                                    <label for="input_trade_comment"></label>
                                    <textarea class="form-control" rows="4" id="input_trade_comment" placeholder=""></textarea>
                                </div>
                                <button type="button" class="btn btn-outline-success" data-dismiss="modal" id="comment_submit">전송</button>
                                <button type="button" class="btn btn-outline-warning" data-dismiss="modal">취소</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!--구매자의 거래후기를 볼 수 있도록 팝업창 view-->
                <div id="view_trade_comment" class="modal fade">
                    <div class="modal-dialog modal_view_trade_comment modal-dialog-scrollable">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h6 class="modal-title">
                                    <!--거래후기 쓴 사용자의 닉네임-->
                                    <span id="writer_trade_comment"></span>님의 후기
                                </h6>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
                            <div class="modal-body">
                                <!--거래후기 작성한 날짜-->
                                <p>
                                    <span class="trade_comment_date_form">게시일 : <span id="trade_comment_date" class=""></span></span>
                                </p>
                                <!--거래후기 내용-->
                                <div class="">후기 내용 : <span id="trade_comment_content" class=""></span></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 채팅 나가기 버튼 클릭 시 팝업창 view -->
                <div id="leave_chat" class="modal fade">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h6 class="modal-title">채팅방에서 나가시겠습니까?</h6>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
                            <div class="modal-body text-center">
                                <p>나가기를 하면 채팅방과 채팅 <br>내용이 모두 삭제됩니다.</p>
                                <button type="button" id="chat_room_out" class="btn btn-outline-danger" data-dismiss="modal">나가기</button>
                                <button type="button" class="btn btn-outline-warning" data-dismiss="modal">취소</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 거래완료 버튼 클릭 시 팝업창 view -->
                <div id="trade_success" class="modal fade">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h6 class="modal-title">거래를 완료하시겠습니까?</h6>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
                            <div class="modal-body text-center">
                                <p>거래를 완료해도 채팅방은 삭제되지<br>않으며 거래완료 후 거래상태를<br>변경할 수 없습니다.</p>
                                <button type="button" id="confirm_trade_success" class="btn btn-outline-primary" data-dismiss="modal">완료</button>
                                <button type="button" class="btn btn-outline-warning" data-dismiss="modal">취소</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 신고하기 버튼 클릭 시 팝업창 view -->
                <div id="report_user" class="modal fade">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h6 class="modal-title">
                                    신고하기
                                </h6>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
                            <div class="modal-body text-center">
                                <label for="report_category"></label>
                                <select id="report_category" class="custom-select">
                                    <option value="">선택</option>
                                    <option value="1">욕설 및 비방 등의 언어폭력</option>
                                    <option value="2">성희롱</option>
                                    <option value="3">전문판매업자 의심</option>
                                    <option value="4">광고 및 홍보성 글</option>
                                    <option value="5">사기피해 및 사기의심</option>
                                    <option value="6">판매 금지 품목 업로드</option>
                                    <option value="7">기타</option>
                                </select>
                                <div class="form-group">
                                    <label for="input_report"></label>
                                    <textarea class="form-control" rows="4" id="input_report"
                                        placeholder="구체적인 사유를 적어주세요."></textarea>
                                </div>
                                <button type="button" class="btn btn-outline-success" data-dismiss="modal" id="report_submit">전송</button>
                                <button type="button" class="btn btn-outline-warning" data-dismiss="modal">취소</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 채팅 입력란 UI-->
            <div class="d-flex">
                <textarea name="chat_input" id="chat_input"  rows="2" placeholder="메시지를 입력하세요"></textarea>
                <button type="button" id="chat_submit_btn" class="btn btn-light
                    d-flex justify-content-center flex-wrap align-content-center">
                    <i id="chat_submit_icon" class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>
</div>