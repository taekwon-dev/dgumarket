---
REST API - Chat created by MS
---

# ChatMessage : 읽지않은 채팅메시지 개수

- `전체 읽지 않은 메시지 개수`

`전체 읽지 않은 메시지 개수`는 나에게 온 메시지 중에 읽지 않은 메시지의 개수를 의미한다. 

최초로 사용자가 로그인후에 사용자는 **읽지않은 메시지개수**를 보기 위해 아래의 엔드포인트로 서버로 요청을 보내 읽지않은 메시지 개수 정보를 가져와 플로팅버튼에 렌더링한다. 
원래는 서버와의 웹소켓 연결(해당 코드가 필요함)이 성공한 이후에 아래의 엔드포인트로 요청을 보내지만, 현재는 테스트만 될 수 있는 정도로 해놓은 상태이다. 
** 결론 : 플로팅채팅버튼이 보여지는 순간에는 해당 엔드포인트로 서버로 요청하여 개수를 가져온다. **  
플로팅채팅버튼이 보여지는 순간은 다음과 같다. 

1. 로그인 후에(정확히 말하면 로그인 성공 -> 웹소켓 연결 성공 후, 웹소켓 연결 부분 추후 구현 예정) 최초로 플로팅 버튼이 보여질 떄 ( 요청하여 개수를 가져와 플로팅버튼 왼쪽에 렌더링한다.) 
2. 플로팅 버튼을 클릭한 이후 채팅방목록화면에서 X버튼(나가기버튼)을 눌러서 혹은 ESC 키를 눌러 채팅방목록화면에서 나가게 되어 채팅 플로팅 버튼이 보여질 떄 ( 위와 같다 )




___

### 전체 읽지 않은 메시지 개수 조회 

**URL** : `/chat/user/unread/messages` 

**Method** : `GET`

**Authentication required** : `yes`

**Data** : `None`

## Success Responses

___

**Code** : `200 OK`

**Content**

`message`: 응답 메시지 

`status`: 응답 상태 

`data`: 읽지 않은 채팅메시지 개수 정보

		`unreadMessageCnt`: 유저가 읽지 않은 채팅메시지의 개수

**example**

```json
{
    "message": "유저의 읽지않은 메시지 개수",
    "status": 200,
    "data": {
        "unreadMessagesCnt": 2
    }
}
```



___


